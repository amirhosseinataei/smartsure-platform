# مستندات نیازمندی‌های نرم‌افزاری (SRS) - بیمه‌یار هوشمند (SmartSure)

## فهرست مطالب
1. [معرفی](#معرفی)
2. [هدف پروژه](#هدف-پروژه)
3. [دامنه محصول](#دامنه-محصول)
4. [نیازمندی‌های عملکردی](#نیازمندی-های-عملکردی)
5. [نیازمندی‌های غیرعملکردی](#نیازمندی-های-غیرعملکردی)
6. [سناریوهای کاربری](#سناریوهای-کاربری)
7. [رابط کاربری](#رابط-کاربری)
8. [واسط‌های خارجی](#واسط-های-خارجی)
9. [محدودیت‌ها](#محدودیت-ها)

---

## معرفی

### هدف مستندات

این مستندات نیازمندی‌های نرم‌افزاری (Software Requirements Specification) برای سیستم **بیمه‌یار هوشمند (SmartSure)** را تعریف می‌کند. این سیستم یک پلتفرم بیمه دیجیتال است که از اینترنت اشیا (IoT)، هوش مصنوعی (AI) و بلاک‌چین برای نوآوری در صنعت بیمه استفاده می‌کند.

### مخاطبان

- تیم توسعه‌دهندگان
- تیم تست
- مدیران پروژه
- ذینفعان کسب‌وکار

---

## هدف پروژه

### مشکل فعلی

صنعت بیمه با چالش‌های زیر روبرو است:
- تأخیر در پردازش خسارت (7-14 روز)
- تقلب در ادعاها (15-25%)
- عدم شفافیت در مدارک
- حق بیمه ثابت بدون توجه به رفتار
- عدم پیش‌بینی و پیشگیری

### راه‌حل

SmartSure با استفاده از:
- **IoT**: جمع‌آوری داده لحظه‌ای
- **AI**: ارزیابی خودکار و تشخیص تقلب
- **Blockchain**: شفافیت و امنیت
- **Edge Computing**: پردازش محلی

این مشکلات را حل می‌کند.

### اهداف کلیدی

1. کاهش 90% زمان پردازش خسارت
2. کاهش 35% تقلب
3. افزایش 40% رضایت مشتری
4. ایجاد حق بیمه پویا

---

## دامنه محصول

### انواع بیمه پشتیبانی‌شده

1. **بیمه خودرو**
   - OBD-II, GPS, دوربین داشبورد
   - تحلیل رفتار رانندگی
   - تخمین خودکار خسارت

2. **بیمه منزل**
   - سنسور دود، نشت، لرزش، گاز
   - هشدار پیشگیرانه
   - تشخیص آتش

3. **بیمه سلامت**
   - پوشیدنی، اپ موبایل
   - پیش‌بینی بیماری
   - نسخه هوشمند با QR

4. **بیمه باربری**
   - GPS، دما، شاک سنسور
   - جلوگیری از فساد کالا

### کاربران سیستم

1. **مشتری (Customer)**
   - ثبت‌نام و مدیریت حساب
   - خرید بیمه‌نامه
   - ثبت خسارت
   - دریافت پرداخت

2. **کارشناس خسارت (Claim Expert)**
   - بررسی ادعاها
   - تایید یا رد خسارت
   - مدیریت پرونده‌ها

3. **پزشک/داروخانه (Partner)**
   - ثبت نسخه
   - تایید فاکتور
   - امضای دیجیتال

4. **مدیر سیستم (Admin)**
   - مدیریت کاربران
   - مدیریت مدل‌های AI
   - گزارش‌های تحلیلی

---

## نیازمندی‌های عملکردی

### FR1: مدیریت کاربران

#### FR1.1: ثبت‌نام
- کاربر باید بتواند با ایمیل/شماره تلفن ثبت‌نام کند
- اعتبارسنجی ایمیل و شماره تلفن
- رمز عبور باید حداقل 8 کاراکتر باشد

#### FR1.2: ورود
- ورود با نام کاربری/ایمیل و رمز عبور
- احراز هویت دو مرحله‌ای (اختیاری)
- مدیریت Session با JWT

#### FR1.3: مدیریت پروفایل
- به‌روزرسانی اطلاعات شخصی
- تغییر رمز عبور
- مدیریت تنظیمات حریم خصوصی

### FR2: مدیریت بیمه‌نامه

#### FR2.1: ایجاد بیمه‌نامه
- کاربر باید بتواند بیمه‌نامه جدید ایجاد کند
- انتخاب نوع بیمه (خودرو، منزل، سلامت، بار)
- محاسبه حق بیمه اولیه
- تولید QR Code برای Pair کردن دستگاه IoT

#### FR2.2: مدیریت حق بیمه پویا
- محاسبه حق بیمه بر اساس رفتار IoT
- به‌روزرسانی ماهانه
- نمایش تاریخچه تغییرات

#### FR2.3: تمدید و لغو
- تمدید خودکار یا دستی
- لغو بیمه‌نامه
- محاسبه بازگشت وجه

### FR3: مدیریت IoT

#### FR3.1: ثبت دستگاه
- Pair کردن دستگاه با QR Code
- ثبت مشخصات دستگاه
- احراز هویت دستگاه با PKI

#### FR3.2: دریافت داده‌های حسگر
- دریافت داده‌های لحظه‌ای
- ذخیره در Time-Series Database
- پردازش Real-time

#### FR3.3: مدیریت Firmware
- به‌روزرسانی OTA (Over-The-Air)
- مدیریت نسخه‌های Firmware
- Health Monitoring

#### FR3.4: تشخیص حادثه خودکار
- تشخیص تصادف (شتاب ناگهانی)
- تشخیص نشت (سنسور نشت)
- تشخیص آتش (سنسور دود)
- ارسال هشدار فوری

### FR4: مدیریت خسارت

#### FR4.1: ثبت حادثه
- ثبت خودکار (توسط IoT)
- ثبت دستی (توسط کاربر)
- آپلود عکس/ویدیو

#### FR4.2: ثبت ادعا
- ایجاد پرونده خسارت
- آپلود مدارک (عکس، فاکتور، نسخه)
- ارسال به سیستم

#### FR4.3: ارزیابی خودکار
- ارزیابی خسارت با AI (CNN)
- تخمین هزینه
- محاسبه Confidence Score

#### FR4.4: بررسی تقلب
- اجرای مدل تشخیص تقلب
- محاسبه Fraud Score
- تطبیق با داده‌های IoT

#### FR4.5: بررسی دستی
- ارجاع به کارشناس (در صورت نیاز)
- بررسی مدارک
- تایید یا رد ادعا

#### FR4.6: پرداخت
- پرداخت خودکار (خسارت جزئی < 5M)
- پرداخت دستی (پس از تایید کارشناس)
- ثبت در Blockchain

### FR5: پرداخت

#### FR5.1: پرداخت حق بیمه
- پرداخت آنلاین
- پرداخت خودکار (Auto-deduct)
- مدیریت کارت‌های بانکی

#### FR5.2: پرداخت خسارت
- پرداخت فوری (< 2 دقیقه)
- پرداخت نهایی (پس از تایید)
- ارسال رسید دیجیتال

#### FR5.3: مدیریت تراکنش‌ها
- تاریخچه پرداخت‌ها
- فیلتر و جستجو
- Export گزارش

### FR6: هوش مصنوعی

#### FR6.1: مدل تخمین خسارت
- پردازش تصاویر
- تخمین هزینه تعمیر
- تولید Damage Map

#### FR6.2: مدل تشخیص تقلب
- تحلیل داده‌های IoT
- تطبیق زمان/مکان
- تشخیص الگوهای مشکوک

#### FR6.3: مدل پیش‌بینی ریسک
- تحلیل رفتار تاریخی
- پیش‌بینی احتمال خسارت
- به‌روزرسانی Risk Score

#### FR6.4: مدیریت مدل‌ها
- استقرار مدل جدید
- به‌روزرسانی مدل
- Rollback در صورت خطا

### FR7: مدیریت مستندات

#### FR7.1: آپلود
- آپلود عکس، PDF، ویدیو
- اعتبارسنجی فرمت
- ذخیره در Object Storage

#### FR7.2: امضای دیجیتال
- ایجاد QR Code برای نسخه
- امضای دیجیتال
- تایید اصالت

#### FR7.3: OCR
- استخراج متن از تصاویر
- تشخیص اطلاعات فاکتور
- تطبیق با داده‌های IoT

### FR8: اعلان‌ها

#### FR8.1: Push Notification
- اعلان حادثه
- اعلان وضعیت خسارت
- اعلان پرداخت

#### FR8.2: SMS/Email
- ارسال کد تایید
- ارسال رسید
- ارسال گزارش

### FR9: گزارش‌ها و تحلیل

#### FR9.1: داشبورد مشتری
- نمایش بیمه‌نامه‌ها
- نمایش خسارت‌ها
- نمایش Risk Score
- نمایش داده‌های IoT

#### FR9.2: داشبورد مدیریت
- آمار کلی
- گزارش تقلب
- گزارش عملکرد AI
- KPI ها

---

## نیازمندی‌های غیرعملکردی

### NFR1: عملکرد

- **زمان پاسخ API**: < 200ms (95th percentile)
- **زمان پردازش خسارت**: < 90 ثانیه
- **Throughput**: 1000 درخواست در ثانیه
- **قابلیت پردازش**: 10,000 دستگاه IoT همزمان

### NFR2: مقیاس‌پذیری

- **Horizontal Scaling**: پشتیبانی از چندین Instance
- **Database Scaling**: Replication و Sharding
- **Load Balancing**: توزیع بار خودکار

### NFR3: قابلیت اطمینان

- **Uptime**: 99.9% (8.76 ساعت downtime در سال)
- **Backup**: Backup روزانه
- **Disaster Recovery**: RTO < 4 ساعت، RPO < 1 ساعت

### NFR4: امنیت

- **رمزنگاری**: TLS 1.3 برای ارتباطات
- **احراز هویت**: JWT + 2FA
- **دسترسی**: RBAC
- **Audit Logging**: ثبت تمام عملیات

### NFR5: قابلیت استفاده

- **رابط کاربری**: ساده و intuitive
- **پشتیبانی چندزبانه**: فارسی و انگلیسی
- **دسترسی**: WCAG 2.1 Level AA

### NFR6: سازگاری

- **مرورگرها**: Chrome, Firefox, Safari, Edge (آخرین 2 نسخه)
- **موبایل**: iOS 13+, Android 8+
- **پایگاه داده**: SQL Server 2019+

### NFR7: نگهداری

- **Logging**: Centralized Logging
- **Monitoring**: Real-time Monitoring
- **Documentation**: مستندات کامل

---

## سناریوهای کاربری

### UC1: ثبت خسارت خودرو (تصادف)

**پیش‌شرط**: کاربر دارای بیمه خودرو فعال با دستگاه IoT

**جریان اصلی**:
1. دستگاه IoT تصادف را تشخیص می‌دهد (شتاب ناگهانی)
2. سیستم اعلان Push ارسال می‌کند
3. کاربر تایید می‌کند و عکس اضافه می‌کند
4. سیستم با AI خسارت را ارزیابی می‌کند
5. اگر خسارت < 5M و Confidence > 90% → پرداخت خودکار
6. در غیر این صورت → ارجاع به کارشناس

**جریان جایگزین**:
- کاربر دستی حادثه را ثبت می‌کند

**پس‌شرط**: خسارت پرداخت شده یا در انتظار بررسی

### UC2: فعال‌سازی دستگاه IoT

**پیش‌شرط**: کاربر بیمه‌نامه فعال دارد

**جریان اصلی**:
1. کاربر QR Code را از بیمه‌نامه اسکن می‌کند
2. دستگاه با سرور Pair می‌شود
3. احراز هویت PKI انجام می‌شود
4. Firmware به‌روزرسانی می‌شود (در صورت نیاز)
5. شروع ارسال داده‌های حسگر

**جریان جایگزین**:
- Pair ناموفق → نمایش خطا

### UC3: پرداخت خسارت فوری

**پیش‌شرط**: خسارت تایید شده و < 5M

**جریان اصلی**:
1. سیستم پرداخت را آغاز می‌کند
2. درگاه پرداخت پرداخت را انجام می‌دهد
3. تراکنش در Blockchain ثبت می‌شود
4. رسید به کاربر ارسال می‌شود

**زمان کل**: < 2 دقیقه

---

## رابط کاربری

### صفحات اصلی

1. **صفحه ورود/ثبت‌نام**
2. **داشبورد مشتری**
3. **صفحه بیمه‌نامه‌ها**
4. **صفحه ثبت خسارت**
5. **صفحه تاریخچه خسارت‌ها**
6. **صفحه تنظیمات**
7. **داشبورد مدیریت**

### طراحی

- **Responsive**: سازگار با موبایل و دسکتاپ
- **Material Design**: استفاده از Material Design
- **Dark Mode**: پشتیبانی از حالت تاریک

---

## واسط‌های خارجی

### EI1: درگاه پرداخت

- **نوع**: REST API
- **پروتکل**: HTTPS
- **احراز هویت**: API Key

### EI2: سرویس SMS

- **نوع**: REST API
- **پروتکل**: HTTPS

### EI3: سرویس Email

- **نوع**: SMTP
- **پروتکل**: SMTP over TLS

### EI4: سرویس Blockchain

- **نوع**: Private Blockchain
- **پروتکل**: REST API

### EI5: سرویس AI (اختیاری)

- **نوع**: TensorFlow Serving
- **پروتکل**: gRPC / REST

---

## محدودیت‌ها

### محدودیت‌های فنی

- پایگاه داده: SQL Server (نه PostgreSQL/MySQL)
- زبان: JavaScript/TypeScript (Node.js)
- Framework: Express.js

### محدودیت‌های کسب‌وکار

- محدودیت بودجه برای زیرساخت
- محدودیت زمان برای توسعه

### محدودیت‌های قانونی

- رعایت قوانین GDPR (در صورت نیاز)
- رعایت قوانین بیمه ایران

---

**نسخه**: 1.0  
**تاریخ**: 2025-01-15  
**وضعیت**: Draft

